var C=Object.defineProperty;var $=(s,e,o)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;var I=(s,e,o)=>$(s,typeof e!="symbol"?e+"":e,o);import{u as S,C as V,L as B}from"./Content-mgkzddHy.js";import{v as _,p as E,_ as f,o as m,e as v,f as d,I as M,C as R,a1 as D,a3 as T,d as p,J as L,K as P,u as l,g as q,r as O,k as j,a4 as N,a as U,F as z,c as A,b as x,h as J,t as K}from"./index-BGi8GpGv.js";import{c as G,D as H}from"./metaHelper-B8_iLp7n.js";import{u as F}from"./useAuthRouter-Ba-Q8nO5.js";import{F as Q}from"./FooterLink-CPhSwjZC.js";import"./useForm-D-1CqejB.js";const W={email:{form:{required:!0,autoFocus:!0,component:"input",label:"아이디(이메일 주소)",placeholder:"아이디(이메일 주소)를 입력해 주세요.",errorMessages:{error:"아이디를 확인해 주세요.",require:"아이디(이메일 주소)는 필수 값 입니다."}}},password:{form:{required:!0,component:"input",type:"password",label:"비밀번호",placeholder:"비밀번호를 입력해 주세요.",errorMessages:{error:"비밀번호를 확인해 주세요.",require:"비밀번호는 필수 값 입니다."}}}},X=[],Y=["email","password"],Z=G(W,X,Y);class y extends H{constructor(e){super(e)}toRequestBody(){return this.constructor.metaData.form.reduce((e,{key:o})=>({...e,[o]:this[o]}),{})}}I(y,"metaData",Z);function ee(s){const e=y.toFormFields(),o=_("footer-props"),{values:n,errors:t,rules:i,preventRules:u,setRef:g,handleEnter:h,setInputError:k,validateFields:b}=S(e);return{fields:E(()=>e.map(a=>({...a,disabled:o.loading,autoFocus:a.key===(s.value?"password":"email"),rules:i[a.group||a.key],setRef:c=>g({el:c,key:a.group||a.key}),handleEnter:c=>h(a.key,c)}))),values:n,errors:t,preventRules:u,setInputError:k,validateFields:b}}const oe={},te={width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function se(s,e){return m(),v("svg",te,e[0]||(e[0]=[d("path",{d:"M10 3L4.5 8.5L2 6",stroke:"white","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const re=f(oe,[["render",se]]),ne={class:"flex items-center"},ae=["disabled"],le={for:"login_check_1",class:"flex items-center"},ie={class:"icon-container"},de={__name:"SaveEmail",props:M({loading:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const e=R(s,"modelValue");return(o,n)=>(m(),v("div",ne,[D(d("input",{type:"checkbox",id:"login_check_1","onUpdate:modelValue":n[0]||(n[0]=t=>e.value=t),disabled:s.loading},null,8,ae),[[T,e.value]]),d("label",le,[d("div",ie,[p(re)]),n[1]||(n[1]=d("span",null,"로그인 정보저장",-1))])]))}},ue=f(de,[["__scopeId","data-v-7ea26a7f"]]),ce={class:"signIn-options-wrapper bu-body-13"},pe={class:"signIn-options"},me={__name:"SignInOptions",setup(s){const{routeFindId:e,routeFindPassword:o}=F();return(n,t)=>(m(),v("div",ce,[p(ue,L(P(n.$attrs)),null,16),d("div",pe,[d("div",{role:"button",class:"find-btn",onClick:t[0]||(t[0]=(...i)=>l(e)&&l(e)(...i))},"아이디 찾기"),t[2]||(t[2]=d("span",{class:"px-1"},"·",-1)),d("div",{role:"button",class:"find-btn",onClick:t[1]||(t[1]=(...i)=>l(o)&&l(o)(...i))},"비밀번호 찾기")])]))}},_e=f(me,[["__scopeId","data-v-9a848b04"]]),fe={class:"content-wrapper"},ve={__name:"Content",setup(s){const e=q(),o=_("methods"),n=_("footer-props"),t=O(!1),{fields:i,values:u,errors:g,preventRules:h,setInputError:k,validateFields:b}=ee(t);return j(()=>{const r=localStorage.getItem("email");t.value=!!r,r&&(u.email=r)}),o.submit=async()=>{var a,c,w;if(!b())return;h.value=!0,n.loading=!0;const r=await N(u.email,u.password);if(((a=r==null?void 0:r.result)==null?void 0:a.httpStatus)!==200)return k();localStorage.setItem("token",(c=r==null?void 0:r.body)==null?void 0:c.accessToken),localStorage.setItem("refreshToken",(w=r==null?void 0:r.body)==null?void 0:w.refreshToken),t.value&&localStorage.setItem("email",u.email),e.push({path:"/"})},(r,a)=>(m(),v("div",fe,[p(V,{fields:l(i),values:l(u),errors:l(g)},null,8,["fields","values","errors"]),p(_e,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c),loading:l(n).loading},null,8,["modelValue","loading"])]))}},ge=f(ve,[["__scopeId","data-v-2fdc650f"]]),he={class:"footer-wrapper"},ke={__name:"Footer",setup(s){const e=_("methods"),o=_("footer-props"),{routeSignUp:n}=F();return(t,i)=>{const u=U("Button");return m(),v(z,null,[d("div",he,[p(u,{size:"x-large",title:"로그인",loading:l(o).loading,onClick:l(e).submit},null,8,["loading","onClick"])]),p(Q,{promptText:"아이디가 없다면?",linkText:"회원가입 하기","onClick:link":i[0]||(i[0]=g=>l(n)("default"))})],64)}}},be=f(ke,[["__scopeId","data-v-8580174d"]]),Se={__name:"index",setup(s){return(e,o)=>(m(),A(l(B),null,{title:x(()=>o[0]||(o[0]=[J(K("Logo"))])),content:x(()=>[p(ge)]),footer:x(()=>[p(be)]),_:1}))}};export{Se as default};
