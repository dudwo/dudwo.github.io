var j=Object.defineProperty;var S=(a,t,e)=>t in a?j(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var M=(a,t,e)=>S(a,typeof t!="symbol"?t+"":t,e);import{u as F}from"./useCustomRouter-CiU2rkZM.js";import{T as G,L as H}from"./index-Dm8pkpH6.js";import{o as d,c as k,u as s,S as Y,_ as I,r as R,k as T,w as z,a as x,e as b,f as h,d as u,b as C,s as Q,p as y,C as $,t as P,D as E,E as q,I as L,v as w,U as W,Q as J,h as Z,V as K,M as U,G as X,L as ee}from"./index-BGi8GpGv.js";import{u as te,G as ne}from"./index-DQhdp3Mo.js";import{P as ae}from"./index-CBHngC_A.js";import{c as le,D as oe}from"./metaHelper-B8_iLp7n.js";import{u as se,C as re,a as ie}from"./Content-CKsiGma2.js";import{u as ue}from"./content-BGkeOCVn.js";import"./useForm-D-1CqejB.js";const ce={__name:"Title",setup(a){return(t,e)=>(d(),k(s(G),{title:"캠페인 운영 관리"}))}},me="/api/v1/campaign",de=a=>Y.get(`${me}`,{params:a}),pe={class:"grid-header-wrapper"},fe={class:"left-area"},_e={class:"item-wrapper"},ve={__name:"Header",setup(a){const{getQuery:t,changeQuery:e}=F(),n=R({}),r=((m,o)=>y({get:()=>n.value[m]||o,set:i=>n.value[m]=i&&i!=="ALL"?String(i).toUpperCase():void 0}))("s_status","ALL");T(_),z(t,_);function _(){["s_status","pageSize"].forEach(m=>{const o=t()[m];n.value[m]=o&&o!=="ALL"?o.toUpperCase():void 0})}return(m,o)=>{const i=x("Radio"),v=x("RadioGroup"),p=x("Button");return d(),b("div",pe,[h("div",fe,[h("div",_e,[o[2]||(o[2]=h("div",null,"상태",-1)),u(v,{modelValue:s(r),"onUpdate:modelValue":o[0]||(o[0]=c=>Q(r)?r.value=c:null)},{default:C(()=>[u(i,{label:"전체",value:"ALL"}),u(i,{label:"심사중",value:"PENDING"}),u(i,{label:"승인",value:"APPROVED"}),u(i,{label:"거절",value:"REJECTED"})]),_:1},8,["modelValue"])])]),h("div",null,[u(p,{size:"tiny",title:"적용",onClick:o[1]||(o[1]=c=>s(e)(n.value))})])])}}},ge=I(ve,[["__scopeId","data-v-008dd64a"]]),he={class:"toolbar-wrapper"},ye={class:"right-area"},Ce={__name:"Toolbar",setup(a){return(t,e)=>{const n=x("Button");return d(),b("div",he,[e[0]||(e[0]=h("div",{class:"left-area"},null,-1)),h("div",ye,[u(n,{color:"green",size:"x-small",title:"다운로드"}),u(s(ae))])])}}},De=I(Ce,[["__scopeId","data-v-c28de246"]]),ke={__name:"Alert",props:{modelValue:{},modelModifiers:{},type:{},typeModifiers:{}},emits:["update:modelValue","update:type"],setup(a){const t=$(a,"modelValue"),e=$(a,"type"),n=y(()=>e.value==="refresh"?"새로고침을 진행하시겠습니까?":e.value==="refresh_complete"?"DID 새로고침 완료":e.value==="restart"?"재시작을 진행하시겠습니까?":e.value==="restart_complete"?"DID 재시작 완료":e.value==="update"?"업데이트를 진행하시겠습니까?":e.value==="update_complete"?"DID 업데이트 완료":e.value==="on"?"기기 사용을 ON 하시겠습니까?":e.value==="on_complete"?"기기 사용 ON 완료":e.value==="off"?"기기 사용을 OFF 하시겠습니까?":e.value==="off_complete"?"기기 사용 OFF 완료":e.value==="finish"?"기기를 종료하시겠습니까?":e.value==="finish_complete"?"기기 종료 완료":""),l=y(()=>e.value==="refresh"?`새로고침을 할 경우,
단시간 기기가 멈출 수 있습니다.`:e.value==="refresh_complete"?"DID 새로고침이 완료됐습니다.":e.value==="restart"?`재시작을 할 경우,
기기에 콘텐츠 노출이 멈추게 됩니다.`:e.value==="restart_complete"?`DID 재시작이 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="update"?`업데이트를 진행할 경우,
단시간 기기가 멈출 수 있습니다.`:e.value==="update_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="on"?`기기 사용을 ON 하게 되면,
기기가 활성화됩니다.`:e.value==="on_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="off"?`기기 사용을 OFF 하게 되면,
기기 화면이 대기 상태로 전환되게 됩니다.`:e.value==="off_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="finish"?`기기 사용을 OFF 하게 되면,
기기가 꺼지게 됩니다.`:e.value==="finish_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:""),r=y(()=>{var o;return!((o=e.value)!=null&&o.endsWith("_complete"))}),_=y(()=>{var o;return(o=e.value)==null?void 0:o.endsWith("_complete")});function m(){e.value=`${e.value}_complete`}return(o,i)=>{const v=x("Alert",!0);return d(),k(v,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=p=>t.value=p),title:n.value,message:l.value,showCancel:r.value,confirmClickClose:_.value,"onClick:confirm":m},null,8,["modelValue","title","message","showCancel","confirmClickClose"])}}},xe={__name:"Status",props:{item:{type:Object,default:()=>({})},column:{type:Object,default:()=>({})}},setup(a){const t=a,e=y(()=>{var n;return(n=t.column.items.find(l=>l.value===t.item[t.column.key]))==null?void 0:n.title});return(n,l)=>(d(),b("div",null,P(e.value),1))}},be={__name:"AdPosition",props:{item:{type:Object,default:()=>({})},column:{type:Object,default:()=>({})}},setup(a){const t=a,e=y(()=>{var n;return(n=t.column.items.find(l=>l.value===t.item[t.column.key]))==null?void 0:n.title});return(n,l)=>(d(),b("div",null,P(e.value),1))}},we={__name:"CampaignAt",props:{item:{type:Object,default:()=>({})},column:{type:Object,default:()=>({})}},setup(a){const t=a,e=y(()=>{const n=E(t.item.startAt).format("YYYY-MM-DD"),l=E(t.item.endAt).format("YYYY-MM-DD");return`${n} ~ ${l}`});return(n,l)=>(d(),b("div",null,P(e.value),1))}},Ae={idx:{column:{title:"NO",type:"text"}},status:{column:{title:"승인여부",type:"text",items:[{title:"심사중",value:"PENDING"},{title:"승인",value:"APPROVED"},{title:"거절",value:"REJECTED"}]}},assetName:{column:{title:"자산",type:"text"}},name:{column:{title:"캠페인 명",type:"text"}},campaignAt:{column:{title:"캠페인 일시",type:"text"}},startAt:{},endAt:{},createdAt:{column:{title:"캠페인 등록일",type:"date"}},estimatedTotalCost:{column:{title:"예산",type:"number"}},adDuration:{column:{title:"광고 길이",type:"text"}},adPosition:{column:{title:"광고 위치",type:"text"},common:{items:[{title:"DID-세로형",value:"VERTICAL"},{title:"DID-가로형A",value:"HORIZONTAL_A"},{title:"DID-가로형B",value:"HORIZONTAL_B"}]}},managerName:{column:{title:"담당자",type:"text"}},managerPhone:{column:{title:"담당자 연락처",type:"text"}},detailView:{column:{title:"상세보기",type:"link"}}},Ie=["idx","status","assetName","name","campaignAt","createdAt","estimatedTotalCost","adDuration","adPosition","managerName","managerPhone","detailView"],Pe=["assetName","name","startAt","endAt","adDuration","adPosition","status","assetName","createdAt","estimatedTotalCost","managerName","managerPhone","detailView"],Ve=le(Ae,Ie,Pe);class O extends oe{constructor(t){if(super(t),t!=null&&t.managers){const[{memberName:e,memberPhone:n}]=t.managers;this.managerName=e,this.managerPhone=n}this.detailView="상세보기"}toRequestBody(){return this.constructor.metaData.form.reduce((t,{key:e})=>({...t,[e]:this[e]}),{})}toPutRequestBody(){return this.constructor.metaData.form.reduce((t,{key:e})=>({...t,[e]:this[e]}),{})}}M(O,"metaData",Ve);const $e={__name:"index",setup(a){const{page:t,size:e,totalPage:n,loading:l,items:r,addQuery:_}=te(o),m=O.toColumnHeaders();async function o({s_status:v}){var D;const p={page:t.value,size:e.value};v&&(p.status=v),l.value=!0,r.value.length=0;const c=await de(p),{result:g,body:f}=c||{};g.httpStatus===200&&(l.value=!1,(D=f==null?void 0:f.data)==null||D.forEach(A=>r.value.push(new O(A))),n.value=(f==null?void 0:f.totalPage)||0)}async function i({item:v,column:p,newValue:c}){if(r.value.findIndex(f=>f.id===v.id)!==-1){if(p.type==="link")return _({view:"detail",id:v.idx});p.type}}return(v,p)=>(d(),k(s(ne),{page:s(t),items:s(r),loading:s(l),totalPage:s(n),columnHeaders:s(m),"onClick:cell":i,"onClick:page":p[0]||(p[0]=c=>s(_)({page:c}))},{header:C(()=>[u(ge)]),toolbar:C(()=>[u(De)]),alert:C(()=>[u(ke)]),status:C(({item:c,column:g})=>[u(xe,{item:c,column:g},null,8,["item","column"])]),adDuration:C(({item:c})=>[h("div",null,P(`${c.adDuration}s`),1)]),adPosition:C(({item:c,column:g})=>[u(be,{item:c,column:g},null,8,["item","column"])]),campaignAt:C(({item:c,column:g})=>[u(we,{item:c,column:g},null,8,["item","column"])]),_:1},8,["page","items","loading","totalPage","columnHeaders"]))}},Oe=I($e,[["__scopeId","data-v-24cd1e0f"]]),Fe={__name:"index",setup(a){return(t,e)=>(d(),k(s(H),null,{title:C(()=>[u(ce)]),content:C(()=>[u(s(Oe))]),_:1}))}};function Ne(a){const t=O.toFormFields(),{values:e,errors:n,changeRule:l,getFields:r,validateFields:_}=se(t),m=i=>!i||q(i)?"":"올바른 이메일 형식이 아닙니다.";return l("partnerManagerEmail",m),l("operationManagerEmail",m),{fields:r([],a),values:e,errors:n,validateFields:_}}const Re={class:"content-file-upload-wrapper"},Be={class:"content-file-upload-wrapper"},Me={key:0,class:"upload-file-info"},Ee={role:"button"},Le={class:"content-file-upload"},Te={key:1,class:"contents"},ze={__name:"Upload",props:L({isDetail:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{},error:{},errorModifiers:{}}),emits:L(["setRef","keydown:enter"],["update:modelValue","update:error"]),setup(a,{expose:t,emit:e}){const n=$(a,"modelValue"),l=$(a,"error"),r=e,{showAlert:_}=w("alert"),{file:m,loading:o,fileRef:i}=W();function v(){if(n.value)return r("keydown:enter");i.value.click()}function p(){m.value=null,n.value="",i.value.value=""}async function c(g){var A,V;const[f]=g.target.files;m.value=f,o.value=!0;const D=await ue(f);if(((A=D==null?void 0:D.result)==null?void 0:A.httpStatus)!==200)return _("file_length",p);o.value=!1,n.value=(V=D==null?void 0:D.body)==null?void 0:V.idx,l.value="",r("keydown:enter")}return t({openFileUpload:v}),(g,f)=>{var B;const D=x("Indicator"),A=x("Input"),V=x("Button");return d(),b("div",Re,[u(s(J),{required:"",label:"콘텐츠 업로드",error:l.value,"onUpdate:error":f[0]||(f[0]=N=>l.value=N)},null,8,["error"]),h("div",Be,[((B=s(m))==null?void 0:B.size)>0?(d(),b("div",Me,[Z(P(s(m).name)+" ",1),h("div",Ee,[s(o)?(d(),k(D,{key:0,size:"15"})):(d(),k(K,{key:1,onClick:p}))])])):U("",!0),h("div",Le,[a.isDetail?(d(),k(A,{key:0,disabled:"",class:"w-318"})):(d(),b("div",Te,[u(V,{ref:N=>r("setRef",N),outlined:"",title:"파일 업로드",width:92,color:l.value?"red":"primary",disabled:n.value>0,onClick:v},null,8,["color","disabled"]),h("input",{ref_key:"fileRef",ref:i,type:"file",onChange:c},null,544)])),f[1]||(f[1]=h("div",{class:"desc"},[h("div",null,"* 재생 길이: 15초 또는 30초 * 용량: 15초 기준 xxMB"),h("div",null,"* 파일 유형: 24bps, MP4, AVI, MOV, WMV")],-1))])])])}}},Ue=I(ze,[["__scopeId","data-v-b93fe9a4"]]),je={__name:"Detail",setup(a){const{showAlert:t}=w("alert"),e=w("footer-props"),{getQuery:n,routeList:l}=F(),{fields:r,values:_,errors:m,validateFields:o}=Ne(!0),i=["name","contentType","mediaFileIdx"],v=y(()=>r.map(g=>g.map(f=>({...f,disabled:i.includes(f.key)}))));R(!1);const p=R({});T(async()=>{}),z(_,()=>e.disabledSubmit=!X(p.value,_));const c=w("methods");return c.cancel=()=>e.disabledSubmit?l():t("put_cancel"),c.submit2=()=>t("delete",async()=>{}),c.submit=()=>{if(!o())return t("missing");t("put",async()=>{})},(g,f)=>(d(),k(re,{isDetail:"",fields:v.value,values:s(_),errors:s(m)},{custom:C(D=>[u(Ue,ee({isDetail:""},D),null,16)]),_:1},8,["fields","values","errors"]))}},Se={class:"flex justify-between align-center"},Ge={class:"button-group"},He={__name:"Footer",props:{isDetail:{type:Boolean,default:!1}},setup(a){const t=w("methods"),e=w("footer-props");return(n,l)=>{const r=x("Button");return d(),b("div",Se,[l[0]||(l[0]=h("div",null,null,-1)),h("div",Ge,[u(r,{outlined:"",width:55,title:a.isDetail?"목록":"취소",size:"medium",color:"neutral",onClick:s(t).cancel},null,8,["title","onClick"]),a.isDetail?(d(),k(r,{key:0,width:55,title:"삭제",size:"medium",color:"red",onClick:s(t).submit2},null,8,["onClick"])):U("",!0),u(r,{size:"medium",color:"primary",width:55,title:a.isDetail?"수정":"등록",disabled:s(e).disabledSubmit,onClick:s(t).submit},null,8,["title","disabled","onClick"])])])}}},Ye=I(He,[["__scopeId","data-v-a075d777"]]),Qe={__name:"Alert",setup(a){const{alertObj:t}=w("alert"),{routeList:e}=F(),n=y(()=>t.type),l=y(()=>n.value==="regist"?"일반 콘텐츠를 등록하시겠습니까?":n.value==="regist_complete"?"일반 콘텐츠 등록 완료":n.value==="cancel"?"일반 콘텐츠 등록을 취소하시겠습니까?":n.value==="missing"?"잘못된 정보 또는 누락된 정보가 있습니다.":n.value==="file_size"?"일반 콘텐츠 파일 용량을 확인해 주세요.":n.value==="file_length"?"일반 콘텐츠 파일 길이를 확인해 주세요.":n.value==="put"?"일반 콘텐츠 정보를 수정하시겠습니까?":n.value==="put_complete"?"일반 콘텐츠 정보 수정 완료":n.value==="put_cancel"?"일반 콘텐츠 정보 수정을 취소하시겠습니까?":n.value==="delete"?"일반 콘텐츠 정보를 삭제하시겠습니까?":n.value==="delete_complete"?"일반 콘텐츠 삭제 완료":""),r=y(()=>n.value==="regist_complete"?"일반 콘텐츠 등록이 완료됐습니다.":n.value==="cancel"?`일반 콘텐츠 등록을 취소할 경우,
입력한 정보가 삭제됩니다.`:n.value==="missing"?"입력한 정보를 다시 한번 확인해주세요.":n.value==="file_size"||n.value==="file_length"?"파일 업로드 옆 파일 양식을 확인해 주세요.":n.value==="put"?"정확한 정보로 입력했는지 확인하셨나요?":n.value==="put_complete"?"일반 콘텐츠 정보 수정이 완료됐습니다.":n.value==="put_cancel"?`수정을 취소하면,
입력한 정보가 삭제됩니다.`:n.value==="delete"?`콘텐츠 정보가 삭제되면,
기존 데이터가 전체 삭제되고
콘텐츠 재생이 중단됩니다.`:n.value==="delete_complete"?"일반 콘텐츠 삭제 완료됐습니다.":""),_=y(()=>["missing","file_size","file_length"].includes(n.value)),m=y(()=>["regist","cancel","put","put_cancel","delete"].includes(n.value)),o=y(()=>n.value!=="regist"),i=y(()=>({cancel:e,regist:t["click:confirm"],regist_complete:e,file_size:t["click:confirm"],file_length:t["click:confirm"],put:t["click:confirm"],put_cancel:e,delete:t["click:confirm"],delete_complete:e}));return(v,p)=>{const c=x("Alert",!0);return d(),k(c,{modelValue:s(t).show,"onUpdate:modelValue":p[0]||(p[0]=g=>s(t).show=g),title:l.value,error:_.value,message:r.value,showCancel:m.value,confirmClickClose:o.value,"onClick:confirm":i.value[n.value]},null,8,["modelValue","title","error","message","showCancel","confirmClickClose","onClick:confirm"])}}},qe={__name:"index",setup(a){return(t,e)=>(d(),k(s(ie),{title:"캠페인 상세 내용 확인",useGoBack:!1},{content:C(()=>[u(je)]),footer:C(()=>[u(Ye,{isDetail:t.isDetail},null,8,["isDetail"])]),alert:C(()=>[u(Qe)]),_:1}))}},ot={__name:"index",setup(a){const{getQuery:t}=F();return(e,n)=>{var l;return["detail"].includes((l=s(t)())==null?void 0:l.view)?(d(),k(s(qe),{key:0})):(d(),k(s(Fe),{key:1}))}}};export{ot as default};
