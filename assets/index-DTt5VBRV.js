var A=Object.defineProperty;var M=(o,t,e)=>t in o?A(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var I=(o,t,e)=>M(o,typeof t!="symbol"?t+"":t,e);import{u as k}from"./useCustomRouter-CiU2rkZM.js";import{T as N,L as T}from"./index-Dm8pkpH6.js";import{o as c,c as v,u as n,_ as w,e as O,f as D,d,C as $,p as i,a as y,b as C,r as b,k as L,B as j,v as V}from"./index-BGi8GpGv.js";import{a as P}from"./index-CJtyaUy2.js";import{u as z,G as H}from"./index-DQhdp3Mo.js";import{P as R}from"./index-CBHngC_A.js";import{c as G,D as Q}from"./metaHelper-B8_iLp7n.js";import{u as S,C as U,a as q}from"./Content-CKsiGma2.js";import"./useForm-D-1CqejB.js";const E={__name:"Title",setup(o){return(t,e)=>(c(),v(n(N),{title:"공지사항"}))}},W={class:"toolbar-wrapper"},J={class:"right-area"},K={__name:"Toolbar",setup(o){return(t,e)=>(c(),O("div",W,[e[0]||(e[0]=D("div",{class:"left-area"},null,-1)),D("div",J,[d(n(R))])]))}},X=w(K,[["__scopeId","data-v-2c50e86e"]]),Y={__name:"Alert",props:{modelValue:{},modelModifiers:{},type:{},typeModifiers:{}},emits:["update:modelValue","update:type"],setup(o){const t=$(o,"modelValue"),e=$(o,"type"),r=i(()=>e.value==="refresh"?"새로고침을 진행하시겠습니까?":e.value==="refresh_complete"?"DID 새로고침 완료":e.value==="restart"?"재시작을 진행하시겠습니까?":e.value==="restart_complete"?"DID 재시작 완료":e.value==="update"?"업데이트를 진행하시겠습니까?":e.value==="update_complete"?"DID 업데이트 완료":e.value==="on"?"기기 사용을 ON 하시겠습니까?":e.value==="on_complete"?"기기 사용 ON 완료":e.value==="off"?"기기 사용을 OFF 하시겠습니까?":e.value==="off_complete"?"기기 사용 OFF 완료":e.value==="finish"?"기기를 종료하시겠습니까?":e.value==="finish_complete"?"기기 종료 완료":""),l=i(()=>e.value==="refresh"?`새로고침을 할 경우,
단시간 기기가 멈출 수 있습니다.`:e.value==="refresh_complete"?"DID 새로고침이 완료됐습니다.":e.value==="restart"?`재시작을 할 경우,
기기에 콘텐츠 노출이 멈추게 됩니다.`:e.value==="restart_complete"?`DID 재시작이 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="update"?`업데이트를 진행할 경우,
단시간 기기가 멈출 수 있습니다.`:e.value==="update_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="on"?`기기 사용을 ON 하게 되면,
기기가 활성화됩니다.`:e.value==="on_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="off"?`기기 사용을 OFF 하게 되면,
기기 화면이 대기 상태로 전환되게 됩니다.`:e.value==="off_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:e.value==="finish"?`기기 사용을 OFF 하게 되면,
기기가 꺼지게 됩니다.`:e.value==="finish_complete"?`DID 업데이트가 완료됐습니다.
기기 상태를 주의깊게 확인해주세요.`:""),u=i(()=>{var s;return!((s=e.value)!=null&&s.endsWith("_complete"))}),m=i(()=>{var s;return(s=e.value)==null?void 0:s.endsWith("_complete")});function h(){e.value=`${e.value}_complete`}return(s,_)=>{const f=y("Alert",!0);return c(),v(f,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=a=>t.value=a),title:r.value,message:l.value,showCancel:u.value,confirmClickClose:m.value,"onClick:confirm":h},null,8,["modelValue","title","message","showCancel","confirmClickClose"])}}},Z={idx:{column:{title:"NO",type:"text"}},title:{column:{title:"제목",type:"text"},form:{row:1,component:"textView",label:"공지사항 제목"}},createdAt:{column:{title:"등록일시",type:"date"}},content:{form:{row:2,component:"textView",label:"공지사항 본문"}},detailView:{column:{title:"상세보기",type:"link"}}},ee=["idx","title","createdAt","detailView"],te=["title","content"],re=G(Z,ee,te);class x extends Q{constructor(t){super(t),this.detailView="상세보기"}toRequestBody(){return this.constructor.metaData.form.reduce((t,{key:e})=>({...t,[e]:this[e]}),{})}toPutRequestBody(){return this.constructor.metaData.form.reduce((t,{key:e})=>({...t,[e]:this[e]}),{})}}I(x,"metaData",re);const ne={__name:"index",setup(o){const{page:t,size:e,totalPage:r,loading:l,items:u,addQuery:m}=z(s),h=x.toColumnHeaders();async function s(){var F;l.value=!0,u.value.length=0;const f={page:t.value,size:e.value},a=await P("notice/public").getPage(f),{result:p,body:g}=a||{};p.httpStatus===200&&((F=g==null?void 0:g.data)==null||F.forEach(B=>u.value.push(new x(B))),r.value=(g==null?void 0:g.totalPage)||0,l.value=!1)}async function _({item:f,column:a,newValue:p}){if(a.type==="link")return m({view:"detail",id:f.idx})}return(f,a)=>(c(),v(n(H),{page:n(t),items:n(u),loading:n(l),totalPage:n(r),columnHeaders:n(h),"onClick:cell":_,"onClick:page":a[0]||(a[0]=p=>n(m)({page:p}))},{toolbar:C(()=>[d(X)]),alert:C(()=>[d(Y)]),_:1},8,["page","items","loading","totalPage","columnHeaders"]))}},oe=w(ne,[["__scopeId","data-v-9f7bc8e1"]]),le={__name:"index",setup(o){return(t,e)=>(c(),v(n(T),null,{title:C(()=>[d(E)]),content:C(()=>[d(n(oe))]),_:1}))}};function ae(o){const t=x.toFormFields(),{values:e,errors:r,getFields:l,validateFields:u}=S(t);return{fields:l([],o),values:e,errors:r,validateFields:u}}const se={__name:"Detail",setup(o){const{getQuery:t,routeList:e}=k(),{fields:r,values:l,errors:u}=ae(!0),m=b(!1),h=b({});L(async()=>{var p;m.value=!0;const _=await P("notice").getDetail(`${(p=t())==null?void 0:p.id}/public`),{result:f,body:a}=_||{};f.httpStatus===200&&(h.value=j(l,{...a}),m.value=!1)});const s=V("methods");return s.cancel=e,(_,f)=>(c(),v(U,{isDetail:"",fields:n(r),values:n(l),errors:n(u)},null,8,["fields","values","errors"]))}},ue={class:"flex justify-between align-center"},ie={class:"button-group"},ce={__name:"Footer",setup(o){const t=V("methods");return(e,r)=>{const l=y("Button");return c(),O("div",ue,[r[0]||(r[0]=D("div",null,null,-1)),D("div",ie,[d(l,{outlined:"",width:55,title:"목록",size:"medium",color:"neutral",onClick:n(t).cancel},null,8,["onClick"])])])}}},me=w(ce,[["__scopeId","data-v-a7d2e658"]]),fe={__name:"Alert",setup(o){const{alertObj:t}=V("alert"),{routeList:e}=k(),r=i(()=>t.type),l=i(()=>r.value==="regist"?"문의하기를 등록하시겠습니까?":r.value==="regist_complete"?"문의하기 등록 완료":r.value==="cancel"?"문의하기 등록을 취소하시겠습니까?":r.value==="missing"?"잘못된 정보 또는 누락된 정보가 있습니다.":""),u=i(()=>r.value==="regist"?"문의 유형 및 문의 내용을 정확히 기재하셨나요?":r.value==="regist_complete"?"빠른 시간 안에 답변 드리겠습니다.":r.value==="cancel"?`문의하기 등록을 취소할 경우,
입력한 정보가 삭제됩니다.`:r.value==="missing"?"입력한 정보를 다시 한번 확인해주세요.":""),m=i(()=>r.value==="missing"),h=i(()=>["regist","cancel","delete","put","put_cancel"].includes(r.value)),s=i(()=>!["regist","put","delete"].includes(r.value)),_=i(()=>({cancel:e,regist:t["click:confirm"],regist_complete:e,delete:t["click:confirm"],delete_complete:e,put:t["click:confirm"],put_complete:e,put_cancel:e}));return(f,a)=>{const p=y("Alert",!0);return c(),v(p,{modelValue:n(t).show,"onUpdate:modelValue":a[0]||(a[0]=g=>n(t).show=g),title:l.value,error:m.value,message:u.value,showCancel:h.value,confirmClickClose:s.value,"onClick:confirm":_.value[r.value]},null,8,["modelValue","title","error","message","showCancel","confirmClickClose","onClick:confirm"])}}},_e={__name:"index",setup(o){return(t,e)=>(c(),v(n(q),{title:"공지사항 상세 내용"},{content:C(()=>[d(se)]),footer:C(()=>[d(me)]),alert:C(()=>[d(fe)]),_:1}))}},ye={__name:"index",setup(o){const{getQuery:t}=k();return(e,r)=>{var l;return["detail"].includes((l=n(t)())==null?void 0:l.view)?(c(),v(n(_e),{key:0})):(c(),v(n(le),{key:1}))}}};export{ye as default};
