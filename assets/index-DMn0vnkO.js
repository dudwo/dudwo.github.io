var L=Object.defineProperty;var P=(o,e,t)=>e in o?L(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var S=(o,e,t)=>P(o,typeof e!="symbol"?e+"":e,t);import{u as z,C as O,L as W}from"./Content-mgkzddHy.js";import{u as N}from"./useAuthRouter-Ba-Q8nO5.js";import{_ as x,v as f,u as a,o as l,e as I,t as T,h as j,f as $,$ as G,E as Y,a8 as H,r as k,k as J,a9 as Q,aa as X,ab as K,c as h,i as Z,C as ee,a as q,b as w,d as b,M,p as C,n as U,R as te}from"./index-BGi8GpGv.js";import{c as se,D as oe}from"./metaHelper-B8_iLp7n.js";import"./useForm-D-1CqejB.js";const re={key:0},ne={key:1},ae={__name:"Title",setup(o){const e=f("show-result"),{signUpCategoryTitle:t}=N();return(c,s)=>a(e)?(l(),I("div",ne,s[0]||(s[0]=[j(' "서비스명"에 가입해 주셔서 감사합니다! '),$("div",{class:"sub-title"}," 이미 등록된 대행사 또는 미디어랩사가 아니라면, 담당자가 빠르게 연락 드리겠습니다. ",-1)]))):(l(),I("div",re,T(`${a(t)} 회원가입`),1))}},ce=x(ae,[["__scopeId","data-v-e4977dd8"]]),ie={email:{form:{required:!0,autoFocus:!0,component:"input",label:"아이디(이메일 주소)",placeholder:"아이디(이메일 주소)를 입력해 주세요.",errorMessages:{error:"아이디(이메일 주소)를 확인해 주세요.",require:"아이디(이메일 주소)는 필수 값 입니다."}}},password:{form:{required:!0,component:"input",type:"password",label:"비밀번호",placeholder:"비밀번호 8자리 이상 (알파벳, 숫자, or 기호 중 2개 중복 포함)",errorMessages:{error:"비밀번호를 확인해 주세요.",require:"비밀번호는 필수 값 입니다."}}},companyName:{form:{required:!0,component:"input"}},companyType:{form:{}},businessNumber:{form:{required:!0,group:"businessInfo",component:"businessNumber",label:"사업자 번호",errorMessages:{error:"사업자 번호를 확인해 주세요.",require:"사업자 번호는 필수 값 입니다."}}},businessLicenseFileIdx:{form:{required:!0,group:"businessInfo",label:"사업자 등록증 파일",errorMessages:{error:"사업자 등록증 파일을 업로드해 주세요.",require:"사업자 등록증 파일은 필수 값 입니다."}}},address:{form:{required:!0,group:"addressInfo",component:"address",label:"주소 (최신 사업자 등록증 주소)",placeholder:"예) 판교역로 166, 분당 주공, 백현동 532",errorMessages:{error:"주소를 확인해 주세요.",require:"주소는 필수 값 입니다."}}},addressDetail:{form:{required:!0,group:"addressInfo",label:"상세주소",errorMessages:{error:"상세주소를 확인해 주세요.",require:"상세주소는 필수 값 입니다."}}},bcode:{form:{required:!0,group:"addressInfo"}},x:{form:{required:!0,group:"addressInfo"}},y:{form:{required:!0,group:"addressInfo"}},ownerName:{form:{required:!0,component:"input",label:"대표자 성명",placeholder:"대표자 이름을 입력해 주세요. (2명 이상인 경우, 1명만 등록)",errorMessages:{error:"대표자 성명을 확인해 주세요.",require:"대표자 성명은 필수 값 입니다."}}},name:{form:{required:!0,component:"input"}},phone:{form:{required:!0,component:"input"}},numEmployees:{form:{component:"input"}},monthlyEstimatedCost:{form:{component:"input",label:"월 예상 집행 비용",placeholder:"월 예상 집행 비용을 입력해 주세요."}}},le=[],ue=["email","password","companyType","companyName","businessNumber","businessLicenseFileIdx","address","addressDetail","bcode","x","y","ownerName","name","phone","numEmployees","monthlyEstimatedCost"],de=se(ie,le,ue);class R extends oe{constructor(e){super(e)}static toFormFields(e){var d;const t=G(),c=t.name==="signUp_agency",s=t.name==="signUp_company",i=s?"회사":c?"대행사":"미디어랩사",r=["email","password","companyType","companyName","name","phone"];return(((d=this.metaData)==null?void 0:d.form)||[]).filter(p=>e||r.includes(p.key)).map(p=>{let{label:n,placeholder:_,component:y,errorMessages:v}=p;switch(p.key){case"companyName":y=e?y:"dropdown",n=`${i} ${e?"명":"선택"}`,_=e?`${n}을 입력해주세요. ${c?" (사업자등록증에 기재된 사업자명)":""}`:`${i}를 선택해 주세요.`,v={error:`${n}을 확인해 주세요.`,require:`${n}은 필수 값 입니다.`};break;case"name":n=`${e?s?"계정":"대표 계정":""} 담당자 명`,_=`${e?s?"계정":"대표 계정":"해당 계정"} 담당자 이름을 입력해 주세요.`,v={error:`${n}을 확인해 주세요.`,require:`${n}은 필수 값 입니다.`};break;case"phone":n=`${e?s?"계정":"대표 계정":""} 담당자 연락처`,_=`${e?s?"계정":"대표 계정":"계정"} 담당자 연락처를 입력해 주세요.`,v={error:`${n}를 확인해 주세요.`,require:`${n}는 필수 값 입니다.`};break;case"numEmployees":y=s?"":y,n=`${i} 사원수`,_=`${n}를 입력해 주세요.`;break}return{...p,component:y,label:n,placeholder:_,errorMessages:v}})}toRequestBody(){return this.constructor.metaData.form.reduce((e,{key:t})=>({...e,[t]:this[t]}),{})}toStaffRequestBody(){return["email","password","companyType","companyName","name","phone"].reduce((e,t)=>t==="companyName"?{...e,companyIdx:this[t]}:{...e,[t]:this[t]},{})}}S(R,"metaData",de);function pe(o){const e=R.toFormFields(o),{fields:t,values:c,errors:s,preventRules:i,changeRule:r,setInputError:d,validateFields:p}=z(e);return r("email",n=>!n||Y(n)?"":"올바른 이메일 형식이 아닙니다."),r("password",n=>n?H(n):""),{fields:t,values:c,errors:s,preventRules:i,setInputError:d,validateFields:p}}const me={__name:"Form",props:{signUpType:{type:String,default:"OWNER"}},setup(o){const{isAgency:e,isCompany:t}=N(),s=o.signUpType==="OWNER",{fields:i,values:r,errors:d,preventRules:p,setInputError:n,validateFields:_}=pe(s);r.companyType=t.value?"COMPANY":e.value?"AGENCY":"MEDIALAB";const y=f("show-result"),v=f("methods"),V=f("footer-props"),{showAlert:E}=f("alert"),F=k({});J(async()=>{var u;if(s)return;const g=await Q();((u=g==null?void 0:g.result)==null?void 0:u.httpStatus)===200&&(F.value.companyName=g.body.filter(m=>m.companyType===r.companyType).map(m=>({...m,title:m.name,value:m.idx})))}),v.cancel=()=>E("cancel"),v.submit=async()=>{_()&&(p.value=!0,V.loading=!0,s?await B():await D(),y.value=!0,V.loading=!1)};async function B(){var m;const g=new R({...r,...r.addressInfo,...r.businessInfo}),u=await X(g.toRequestBody());(m=u==null?void 0:u.result)==null||m.httpStatus}async function D(){var m,A;const g=new R({...r}),u=await K(g.toStaffRequestBody());if(((m=u==null?void 0:u.result)==null?void 0:m.httpStatus)!==200&&((A=u==null?void 0:u.result)==null?void 0:A.code)===40000001)return E("duplication_staff")}return(g,u)=>(l(),h(O,{fields:a(i),values:a(r),errors:a(d),items:F.value},null,8,["fields","values","errors","items"]))}},fe={},_e={class:"account-tooltip-wrapper"};function ye(o,e){return l(),I("div",_e,e[0]||(e[0]=[Z('<div class="title" data-v-f50c19c8>계정 형태에 대해 알려드려요.</div><div data-v-f50c19c8><div class="desc" data-v-f50c19c8>1. 대표 계정은 대행사의 대표 이메일을 의미해요.</div><div class="desc" data-v-f50c19c8> 2. 대표 계정은 직원 계정 광고 자산 배분, 전체 결제 내역 등을 확인할 수 있어요. </div><div class="desc" data-v-f50c19c8>3. 직원 계정은 대행사의 담당 직원을 계정으로 의미해요.</div><div class="desc" data-v-f50c19c8>4. 직원 계정은 해당 계정에 할당된 광고 자산만을 관리할 수 있어요.</div></div>',2)]))}const ve=x(fe,[["render",ye],["__scopeId","data-v-f50c19c8"]]),ge={__name:"index",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(o){const e=ee(o,"modelValue"),t=f("footer-props");return(c,s)=>{const i=q("Radio"),r=q("RadioGroup");return l(),h(r,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=d=>e.value=d),required:"",useTooltip:"",label:"계정 형태"},{tooltip:w(()=>[b(ve)]),default:w(()=>[b(i,{label:"대표 계정",value:"OWNER",disabled:a(t).loading},null,8,["disabled"]),b(i,{label:"직원 계정",value:"STAFF",disabled:a(t).loading},null,8,["disabled"])]),_:1},8,["modelValue"])}}},he={class:"content-wrapper"},be={__name:"index",setup(o){const e=k("OWNER"),{isCompany:t}=N();return(c,s)=>(l(),I("div",he,[a(t)?M("",!0):(l(),h(a(ge),{key:0,modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=i=>e.value=i)},null,8,["modelValue"])),(l(),h(me,{key:e.value,signUpType:e.value},null,8,["signUpType"]))]))}},we=x(be,[["__scopeId","data-v-77a4a8fc"]]),Ie={class:"card-wrapper"},xe=["src"],$e={class:"info"},Ce={class:"title"},qe={class:"desc"},Ne={__name:"Card",props:{items:{type:Array,default:()=>[]},selectedIdx:{type:Number,default:0}},setup(o){const e=o,t=C(()=>e.items[e.selectedIdx]);return(c,s)=>(l(),I("div",Ie,[$("img",{src:t.value.img},null,8,xe),$("div",$e,[$("div",Ce,T(t.value.title),1),$("div",qe,T(t.value.description),1)])]))}},Re=x(Ne,[["__scopeId","data-v-fa79b085"]]),Te="/assets/Img-4DXdtBgI.png",ke="/assets/Img2-DAugwREU.png",Ve="/assets/Img3-DtzJQY_E.png",Ee="/assets/Img4-nxTHwV4l.png",Fe={__name:"index",setup(o){const e=[{title:"서비스명은 이런 점이 좋아요!",description:"우리의 광고를 보는 사람들은 구매력이 높은 사람들이예요!",img:Te},{title:"서비스명은 이런 점이 좋아요!",description:"광고 집중 시간을 제외하고 비용을 받지 않아요!",img:ke},{title:"서비스명은 이런 점이 좋아요!",description:"브랜딩, 인지도 확산, 콘텐츠 홍보에 좋아요!",img:Ve},{title:"서비스명은 이런 점이 좋아요!",description:"프로그래마틱 방식으로 광고 세팅부터 리포트까지 플랫폼 안에서 모두 가능해요!",img:Ee}],t=f("methods"),{routeSignIn:c}=N();return t.submit=c,(s,i)=>{const r=q("Banner");return l(),I("div",null,[$("div",null,[b(r,{useArrow:"",dotCnt:e.length},{content:w(({selectedIdx:d})=>[b(Re,{items:e,selectedIdx:d},null,8,["selectedIdx"])]),_:1},8,["dotCnt"])])])}}},Ae=x(Fe,[["__scopeId","data-v-30bacb4e"]]),Se={__name:"Footer",setup(o){const e=f("methods"),t=f("show-result"),c=f("footer-props");return(s,i)=>{const r=q("Button");return l(),I("div",{class:U(["footer-wrapper",{result:a(t)}])},[a(t)?M("",!0):(l(),h(r,{key:0,outlined:"",color:"neutral",size:"x-large",title:"취소",onClick:a(e).cancel},null,8,["onClick"])),b(r,{size:"x-large",title:"완료",width:a(t)?348:void 0,loading:a(c).loading,onClick:a(e).submit},null,8,["width","loading","onClick"])],2)}}},Me=x(Se,[["__scopeId","data-v-f627b07c"]]),Ue={__name:"Alert",emits:["focus"],setup(o,{emit:e}){const{alertObj:t}=f("alert"),c=e,{routeSignIn:s}=N(),i=C(()=>t.type==="missing"?"잘못된 기입 또는 누락된 정보가 있습니다.":t.type==="duplication_owner"?"대표계정이 이미 등록되어 있습니다.":t.type==="duplication_staff"?"계정이 이미 등록되어 있습니다.":t.type==="cancel"?"회원가입을 취소하시겠습니까?":""),r=C(()=>t.type==="missing"?"입력한 정보를 다시 한번 확인해주세요.":t.type==="duplication_owner"?"대표계정은 대행사/랩사 당 1개씩만 등록 가능합니다.":t.type==="cancel"?"회원가입을 취소할 경우, 입력한 정보가 삭제됩니다.":""),d=C(()=>t.type==="cancel"),p=C(()=>({cancel:s,missing:()=>c("focus")}));return(n,_)=>{const y=q("Alert",!0);return l(),h(y,{modelValue:a(t).show,"onUpdate:modelValue":_[0]||(_[0]=v=>a(t).show=v),title:i.value,message:r.value,error:!d.value,showCancel:d.value,"onClick:confirm":p.value[a(t).type]},null,8,["modelValue","title","message","error","showCancel","onClick:confirm"])}}},Be={__name:"index",setup(o){const e=k(!1);return te("show-result",e),(t,c)=>(l(),h(a(W),{class:U({result:e.value})},{title:w(()=>[b(ce)]),content:w(()=>[e.value?(l(),h(a(Ae),{key:0})):(l(),h(a(we),{key:1}))]),footer:w(()=>[b(Me)]),alert:w(()=>[b(Ue)]),_:1},8,["class"]))}},je=x(Be,[["__scopeId","data-v-a3810dab"]]);export{je as default};
