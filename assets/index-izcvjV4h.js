import{_ as F,p as w,o as m,e as y,t as $,M,I as g,C as f,w as R,ad as N,F as B,j as L,f as _,d as U,L as k,u as I,an as E,n as P,r as C,a as D,c as S,b as G,ao as A,N as K}from"./index-BGi8GpGv.js";import{u as T}from"./useForm-D-1CqejB.js";import j from"./Input-Dlro03g1.js";const q={key:0,class:"errorMsg"},z={__name:"ErrorMsg",props:{error:{type:Object,default:()=>({})}},setup(t){const n=t,a=w(()=>n.error.businessNumber||n.error.businessLicenseFileIdx);return(d,i)=>a.value?(m(),y("div",q,$(a.value),1)):M("",!0)}},J=F(z,[["__scopeId","data-v-5edcc820"]]),O={class:"flex"},H={key:0,class:"hyphen"},Q="사업자 번호는 000-00-00000 총 10자리로 구성되어 있습니다.",W={__name:"InputGroup",props:g({label:{type:String,default:""},disabled:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{},error:{},errorModifiers:{}}),emits:g(["setRef","focusFileUpload"],["update:modelValue","update:error"]),setup(t,{emit:n}){const a=f(t,"modelValue"),d=f(t,"error"),i=n,e=[{required:!0,useAppendIcon:!1,key:"first",maxlength:3,label:t.label},{useAppendIcon:!1,key:"second",maxlength:2},{useAppendIcon:!1,key:"third",maxlength:5}],{values:s,getRef:v,setRef:p}=T(e);function u(r,l){p({el:r,key:l}),l==="first"&&i("setRef",r)}e.slice(0,-1).forEach((r,l)=>{R(()=>s[r.key],o=>{var b;return`${o}`.length===r.maxlength&&((b=v(e[l+1].key))==null?void 0:b.focus())})});let V;N(()=>{clearTimeout(V);const{first:r,second:l,third:o}=s;r&&r.length===3&&l&&l.length===2&&o&&o.length===5?(a.value=`${r}-${l}-${o}`,d.value="",i("focusFileUpload")):(r||l||o)&&(a.value="",V=setTimeout(()=>d.value=Q,500))});function x(r){if(s[r])return;const l=e.findIndex(o=>o.key===r);l>0&&v(e[l-1].key).focus()}return(r,l)=>(m(),y("div",O,[(m(),y(B,null,L(e,(o,b)=>_("div",{key:o.key,class:P(["input-wrappper",{"pl-1":b>0,error:d.value}])},[U(j,k({type:"number",ref_for:!0},{...o},{modelValue:I(s)[o.key],"onUpdate:modelValue":h=>I(s)[o.key]=h,disabled:t.disabled,onSetRef:h=>u(h,o.key),onKeydown:E(()=>x(o.key),["delete"])}),null,16,["modelValue","onUpdate:modelValue","disabled","onSetRef","onKeydown"]),b!==2?(m(),y("div",H,"-")):M("",!0)],2)),64))]))}},X=F(W,[["__scopeId","data-v-88fc05ce"]]),Y={__name:"FileUpload",props:g({disabled:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{},error:{},errorModifiers:{}}),emits:g(["keydown:enter"],["update:modelValue","update:error"]),setup(t,{expose:n,emit:a}){const d=f(t,"modelValue"),i=f(t,"error"),c=a,e=async({file:v,callback:p})=>{var x;const u=await A(v),{httpStatus:V}=(u==null?void 0:u.result)||{};V===200&&(p(),d.value=(x=u==null?void 0:u.body)==null?void 0:x.idx,i.value="",c("keydown:enter"))},s=C(null);return n({focus:()=>s.value.focus()}),(v,p)=>{const u=D("FileUpload",!0);return m(),S(u,{ref_key:"fileUploadRef",ref:s,removeDisabled:t.disabled,buttonProps:{title:"사업자 등록증 업로드",color:i.value?"red":"primary"},onUpload:e},{"bottom-desc":G(()=>p[0]||(p[0]=[_("div",{class:"mb-1"},"* 파일 유형 :JPEG, PNG, PDF 파일만 업로드 가능",-1),_("div",null,"* 파일 용량 :1MB 이하",-1)])),_:1},8,["removeDisabled","buttonProps"])}}},Z={class:"business-number-wrapper"},ee={class:"content-wrappper"},se={class:"input-container"},oe={__name:"index",props:{modelValue:{},modelModifiers:{},error:{},errorModifiers:{}},emits:["update:modelValue","update:error"],setup(t){const n=f(t,"modelValue"),a=f(t,"error"),d=K("fileUpload"),i=()=>{var c;return(c=d.value)==null?void 0:c.focus()};return(c,e)=>(m(),y("div",Z,[_("div",ee,[_("div",se,[U(X,k(c.$attrs,{modelValue:n.value.businessNumber,"onUpdate:modelValue":e[0]||(e[0]=s=>n.value.businessNumber=s),error:a.value.businessNumber,"onUpdate:error":e[1]||(e[1]=s=>a.value.businessNumber=s),onFocusFileUpload:i}),null,16,["modelValue","error"]),U(J,{error:a.value},null,8,["error"])]),U(Y,k({ref:"fileUpload"},c.$attrs,{modelValue:n.value.businessLicenseFileIdx,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.businessLicenseFileIdx=s),error:a.value.businessLicenseFileIdx,"onUpdate:error":e[3]||(e[3]=s=>a.value.businessLicenseFileIdx=s)}),null,16,["modelValue","error"])])]))}},le=F(oe,[["__scopeId","data-v-ae370a3a"]]);export{le as default};
